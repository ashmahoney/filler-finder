<!DOCTYPE html>
<meta charset='utf-8' />
<title>Filler Finder</title>
<link rel='stylesheet' href='/stylesheets/style.css'>
<link href="https://fonts.googleapis.com/css?family=Cabin|Merienda" rel="stylesheet">


<div id='header'>
  <h1> Filler Finder </h1>
  <h3> Locate the nearest water bottle filling station and save the planet, one plastic bottle at a time! </h3>
  <h3> To add a filler to the map, click <a href="/add">here</a>! </h3>
</div>

<div id='searchBar'>
  <input id='address' type='text' placeholder='Search'>
  <button id='enterAddress'> Find! </button>
</div>

<!-- Prints out the map and the list of locations in the html so that it can be converted a marker with the following javascript -->
<div id='map'>
<script src = '/scripts/map.js'>
  <script type="text/javascript">
    {% for filler in fillers %}
      geocoder.geocode( {'address': '{{filler.location}}'}, function(results, status) {
        if (status == 'OK'){
        //Place a marker
        let marker = new google.maps.Marker({
          map: map,
          position: result[0].geometry.location,
        });

        marker.setMap(map);
      } else {
        alert('Boom: ' + status);

        }
      });


    {% endfor %}
  </script>
</script>
  <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADULoh4vZX2MsZs4SAgpTgOaXPbjsCNBA&callback=initMap">
  </script>
</div>
