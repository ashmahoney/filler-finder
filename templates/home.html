<!DOCTYPE html>
<meta charset='utf-8' />
<title>Filler Finder</title>
<link rel='stylesheet' href='/stylesheets/style.css'>
<link rel='stylesheet' href='/stylesheets/home.css'>
<link href="https://fonts.googleapis.com/css?family=Cabin|Merienda" rel="stylesheet">

<a id='homeButton' href='/' >
  <div id='topPage'>

  <!-- TITLE -->
  <div id='titleStyle'>
    <div id='innerbox'>
      <h1>ðŸ’§ Filler Finder </h1>
    </div>
  </div>

  <!--LOGIN BUTTON -->
  <div id='log'>
    {% if not current_user %}
      <a href = "{{login_url}}">
        <button> Login </button>
      </a>
    {% else %}
      <a href = "{{logout_url}}">
        <button> Logout </button>
      </a>
    {% endif %}
  </div>
</div>
</a>


<div id='slogan'>
  <h3> Find the nearest water bottle filling station and save the planet,
    one plastic bottle at a time! </h3>
</div>

<!-- SEARCH BAR -->
<div id='divOverSearch'>
  <div id='searchBar'>
    <input id='address' type='text' placeholder='Search'>
    <button id='enterAddress'> Find! </button><br><br>
    <h3> or <a  id='addAFiller' href="/add">Add a Filler</a>! </h3>
  </div>
</div>

<!-- Prints map & list of locations in html to be converted to marker w/ JS -->
<div id='map'>
<script src = '/scripts/map.js'> </script>
    <!-- Places marker based on the database -->
    <script>
      function markerPlacement() {
        {% for filler in filler_list %}

          marker = placeMarker(geocoder, map, '{{filler.location}}');
          console.log(marker);

        {% endfor %}
      }

      function addClickable(marker) {
        console.log("WORKS")
        marker.addListener("click", function() {
          window.location.replace("/description?key={{filler.key.urlsafe()}}");
        });
      }


    </script>

    <script async defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyADULoh4vZX2MsZs4SAgpTgOaXPbjsCNBA&callback=initMap">
    </script>
</div>
